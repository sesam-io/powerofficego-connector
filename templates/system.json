{
  "_id": "{{@ system @}}",
  "headers": {
    "Ocp-Apim-Subscription-Key": "$ENV(subscription_key)"
  },
  "oauth2": {
    "client_id": "{{@ application_key @}}",
    "client_secret": "$SECRET(api_key)",
    "extra": {
      "headers": {
        "Ocp-Apim-Subscription-Key": "$ENV(subscription_key)"
      }
    },
    "token_url": "$ENV(base_url)/OAuth/Token"
  },
  "operations": {
    "delete": {
      "method": "DELETE",
      "payload_property": "data",
      "url": "{{ properties.datatype }}/{{ entity.Id }}"
    },
    "insert": {
      "id_expression": "{{ Id }}",
      "method": "POST",
      "payload-type": "json",
      "url": "{{ properties.datatype }}"
    },
    "list": {
      "id_expression": "{{ Id }}",
      "method": "GET",
      "url": "{{ properties.datatype }}"
    },
    "lookup": {
      "method": "GET",
      "url": "{{ properties.datatype }}/{{ entity.Id }}"
    },
    "outgoinginvoiceslines_list": {
      "method": "GET",
      "url": "{{ properties.datatype }}/{{ entity.Id }}/lines"
    },
    "salesorderlines_insert": {
      "method": "POST",
      "url": "{{ properties.datatype }}/{{ entity['SalesOrdersId'] }}/lines"
    },
    "update": {
      "method": "PATCH",
      "payload-type": "json",
      "url": "{{ properties.datatype }}/{{ entity.Id }}"
    }
  },
  "type": "system:rest",
  "url_pattern": "$ENV(base_url)/v2/%s",
  "verify_ssl": true
}